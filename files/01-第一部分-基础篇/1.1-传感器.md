# 传感器


本节内容主要介绍的是传感器，众所周知，在计算机视觉中，我们的目的就是希望通过机算计代替人来解决视觉方面的问题。显然，在这里我们处理的主要是影像信息，这其中包括了平时我们常见的数码相机拍摄的影像、传感器就是用来收集信息的，

### 面阵相机（camera）

<p><details><summary>01. 成像模型</summary>
<pre><text>每当接触到一种传感器的时候，最重要的就是了解该传感器的成像模型，因为这是在进行量测的最本质的数学模型。而谈到光学相机的成像模型时，最常见的就是小孔成像模型，所谓小孔成像，也就是三点（物点、小孔、像点）共线，如图所示：
</text></pre>
<font color=#FF0000><b>此处配图说明</b></font>
</details></p>

<p><details><summary>02. 相机外参</summary>
<pre><text>显然，物点是空间中真实存在的一个点，拥有一个三维坐标（X, Y, Z),而像点就是图片上的位置（像素点的行列u, v）,而三点钟的“小孔”点，就是相机的摄影中心位置（也称为曝光点位置，相机中心等等）。如图所示：
</text></pre>
<font color=#FF0000><b>此处配图说明</b></font>
<pre><text>在固定相机中心，不断改变相机的朝向，物点在图像上的成像也跟着发生改变，而任意一时刻，物点、像点和摄影中心都满足三点共线。
<p>这样一来，我们发现，如果仅仅固定相机中心，连接物点和相机中心的光学，可以在图片任务位置成像。只有固定相机的位置和朝向，才能得到唯一的成像点。这个过程，我们称之为”投影“（摄影几何相关章节会详细讲解），相机的位置和姿态我们称之为相机的外参数（也称为外方位元素、曝光位置姿态等）。
<p>相机的位置是一个三维空间坐标，姿态可以看做是相机的朝向，即一个法向量，因此相机的外参是一个六个自由度的向量[x, y, z, rx, ry, rz]。
<p>一般我们用欧拉角或者旋转矩阵来表示相机的朝向，空间旋转一节会相机解答，此处关键的认知是，了解、清楚以及明确相机的外参数是一个6维度的向量。
</text></pre>
</details></p>

<p><details><summary>03. 相机内参</summary>
<pre><text>在明确了物点，和相机外参之后，我们来看看相机的内参数（题外话，我在这个地方的讲解顺序与一般教程不一样，一般都是先介绍相机的内参，再介绍相机的外参，这样安排的目的是想从简单的讲起，利用理解和掌握），还是回到之前的三点共线图：
</text></pre>
<font color=#FF0000><b>此处配图说明</b></font>
<pre><text>三点当中、物点和相机中心都是三维坐标，而像点是一个二维坐标（投影坐标），为了进行后期一系列的数学运算（后面章节提到的共线方程），我们需要将这个像点坐标转换为三维空间坐标。这就涉及到一个坐标系的问题，选用什么空间坐标系坐标像点的坐标系呢？
其实大多数时候，我们是不知道物点的坐标，因为这个坐标是需要我们求解的（要明白所谓摄影测量，即通过摄影的方式测量世界），因此我们需要建立一个局部的坐标系，称为相机坐标系，如图所示：
</text></pre>
<font color=#FF0000><b>此处配图说明</b></font>
<pre><text>以相机中心为原点，相机的朝向为z轴， 影像的行向和列方向分别为x轴和y轴，那么z轴在图像上的成像点坐标为（cx, cy, cz),我们把这个坐标称为相机的内参，一般用(cx, cy, fx)表示，fx为相机的焦距（换算成像素），(cx, cy)为成像中心。
注意：在这里成像中心不等同于图像的中心（w / 2, h / 2), 相机的内参(fx, cx, cy)一般是需要通过相机检校获取的。
</text></pre>
题外话：在摄影测量的课本上，一般选择相机的背方向为z轴（与这里的z轴相反， 因为考虑到航摄影像大多是垂直摄影，这样使得z轴与世界坐标系下的Z轴基本平行。然而在近景摄影中，这个角度范围跨度较大，选择相机的朝向作为z轴，可以保证x轴和y轴与图像的行列平行，本质上两个坐标系可以互换（相差一个旋转）。
</details></p>

<p><details><summary>04. 共线方程</summary>
<pre><text>讲解完相机的成像模型，内外参数后，我们需要用一个数学模型来模型成像过程，这个方程就是共线方程，如图所示：
</text></pre>
<font color=#FF0000><b>此处配图说明</b></font>
<pre><text>
</text></pre>
</details></p>

<p><details><summary>05. 相机畸变参数</summary>
<pre><text>共线方程作可作为小孔成像的数学模型，而在实际应用中，数码相机的镜头是一组光学镜片合成（具体如何合成，不在讨论范围，大家只需要把镜头看做是一个透镜即可），成像模型并不是一个严格意义上的小孔成像，而是存在光线的多次折射，从结果上看，就是成像发生了变形；一般我们将数码面阵相机的镜头畸变分为径向畸变和切向畸变。
</text></pre>

<p><details><summary>5.1. 径向畸变</summary>
<pre><text>径向畸变，就是实际成像在径向发生的形变，这个比较好理解，就像我们拿着一个放大镜观察物体的时候，实际成像都变大了。
<font color=#FF0000><b>此处配图说明</b></font>
</text></pre>

<p><details><summary>5.2. 切向畸变</summary>
<pre><text>切向畸变是成像点在与径向相切方向上发生的形变，类似与眼镜的散光，如图所示：
</text></pre>


---



### 激光雷达（Lidar）
